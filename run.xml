<?xml version="1.0" encoding="UTF-8"?>
<project name="run" default="main">

  <!-- cli usage:
    ./tools/ant/bin/ant -f run.xml -p
  -->
  <dirname property="asl.root" file="${ant.file.run}" />
  <property environment="env"/>

  <property name="asl.libs.root" location="${asl.root}/libs" />

    <!--
      加载配置
      ant         //property用于定义常量，
      ant-contrib //var用于定义变量
    -->
  <property file="${asl.root}/config.properties" />

    <!--
      加载功能
    --> 
  <import file="${asl.libs.root}/taskdefs.xml" />

    <!-- 系统入口 -->
  <target name="main">

    <printLog 
      type="debug"
      message="basedir: ${ws.dir}"
      message.zh="项目根目录: ${ws.dir}"
      />

    <if>
      <isset property="asl.task.id" />
      <then>
        <ci task="${asl.task.id}" />
      </then>
      <else>
        <printLog 
          type="err"
          message="undefined props(asl.task.id)" 
          message.zh="未定义属性(asl.task.id)" 
          />
      </else>
    </if>
  </target>

</project>
